<h1>Computer Vision Essential Oil Measurement System</h1>

Computer vision system to measure the essential oil produced by steam distillation in real time to communicate with supervisory applications using Modbus TCP.

This code was created to run on a Raspberry Pi using its camera called Camera Module V2.

This COmputer Vision System requires the following Python packages:

<ul>
  <li>OpenCV for image processing and computer vision</li>
  <li>Numpy to perform mathematical operations</li>
  <li>pyModbusTCP to communicate with industrial systems</li>
  <li>picamera to be able to use images coming from a Raspberry Pi in real time</li>
</ul>

Essential oils are the essence of plants, they are usually what gives them the good smell they have. During the most used essential oil extraction process, the steam distillation, the steam generated by a boiler passes through the plant material inside a distiller. The sessential oils are pulled from the plants and caried by the steam to a condenser in which they exchange heat with the cooling water and the steam, that initially was in the liquid form inside the boiler, are trasformed back in water once again. The essential oils are also transformed in a liquid pouring in a becker or some other kind of vessel to be separated from the water by a decanting process.

Essential oils are generally concentrated, toxic, reactive and they are commonly used for cosmetics and the pharmaceutical industry. So the computer vision approach is a very interesting way to measure the essential oil production in real time. The computer vision measurement system doesn't make contact with the essential oil avoiding both contamination with undeserable substancies and the constant chemical attacks some other sensoring methods would face.

The Modbus TCP was used because it is an open source industrial communication protocol widely used and all other hardware/software in this project were able to communicate through Modbus TCP.

Below there's an example of how the computer vision system works during the lemongrass extraction process.

![image](https://user-images.githubusercontent.com/74729117/179632226-642b046d-f229-4768-82f8-8b0e9bc8a558.png)

The image above shows that the user can change the RGB and HSV parameters of the color they are trying to find, the color of the essential oil being measured. But the system also accepts a simple click in the image and then the algorithm will search for the color of the pixel that was clicked.
